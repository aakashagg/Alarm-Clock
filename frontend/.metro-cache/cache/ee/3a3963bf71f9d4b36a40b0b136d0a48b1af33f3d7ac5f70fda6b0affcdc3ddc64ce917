{"dependencies":[{"name":"react","data":{"asyncType":null,"isESMImport":true,"locs":[{"start":{"line":1,"column":0,"index":0},"end":{"line":1,"column":89,"index":89}}],"key":"RtGiGa+/H7VrI7GDQDLhO1UbpU8=","exportNames":["*"],"imports":1}},{"name":"../utils/alarmStorage","data":{"asyncType":null,"isESMImport":true,"locs":[{"start":{"line":3,"column":0,"index":140},"end":{"line":3,"column":91,"index":231}}],"key":"ZoYi+wRz5U1P1A9zPmRBWhRarzE=","exportNames":["*"],"imports":1}},{"name":"../utils/alarmScheduler","data":{"asyncType":null,"isESMImport":true,"locs":[{"start":{"line":4,"column":0,"index":232},"end":{"line":4,"column":93,"index":325}}],"key":"AXa6vBro5lHbtoBbw83HvI3gDAk=","exportNames":["*"],"imports":1}},{"name":"react/jsx-dev-runtime","data":{"asyncType":null,"isESMImport":false,"locs":[],"key":"L9D70Z4hi4aGuui1ysja/oQ5ytI=","exportNames":["*"],"imports":1}}],"output":[{"data":{"code":"__d(function (global, require, _$$_IMPORT_DEFAULT, _$$_IMPORT_ALL, module, exports, _dependencyMap) {\n  \"use strict\";\n\n  var _jsxFileName = \"/app/frontend/contexts/AlarmContext.tsx\",\n    _s = $RefreshSig$(),\n    _s2 = $RefreshSig$();\n  Object.defineProperty(exports, '__esModule', {\n    value: true\n  });\n  Object.defineProperty(exports, \"AlarmProvider\", {\n    enumerable: true,\n    get: function () {\n      return AlarmProvider;\n    }\n  });\n  Object.defineProperty(exports, \"useAlarms\", {\n    enumerable: true,\n    get: function () {\n      return useAlarms;\n    }\n  });\n  var _react = require(_dependencyMap[0], \"react\");\n  var _utilsAlarmStorage = require(_dependencyMap[1], \"../utils/alarmStorage\");\n  var _utilsAlarmScheduler = require(_dependencyMap[2], \"../utils/alarmScheduler\");\n  var _reactJsxDevRuntime = require(_dependencyMap[3], \"react/jsx-dev-runtime\");\n  const AlarmContext = /*#__PURE__*/(0, _react.createContext)(undefined);\n  const AlarmProvider = ({\n    children\n  }) => {\n    _s();\n    const [alarms, setAlarms] = (0, _react.useState)([]);\n    const [settings, setSettings] = (0, _react.useState)({\n      use24Hour: false,\n      emergencyStopMinutes: 10,\n      vibrateEnabled: true\n    });\n    (0, _react.useEffect)(() => {\n      loadInitialData();\n    }, []);\n    const loadInitialData = async () => {\n      const loadedAlarms = await (0, _utilsAlarmStorage.loadAlarms)();\n      const loadedSettings = await (0, _utilsAlarmStorage.loadSettings)();\n      setAlarms(loadedAlarms);\n      setSettings(loadedSettings);\n    };\n    const refreshAlarms = async () => {\n      const loadedAlarms = await (0, _utilsAlarmStorage.loadAlarms)();\n      setAlarms(loadedAlarms);\n    };\n    const addAlarm = async alarmData => {\n      const newAlarm = Object.assign({}, alarmData, {\n        id: Date.now().toString()\n      });\n      const updatedAlarms = [...alarms, newAlarm];\n      await (0, _utilsAlarmStorage.saveAlarms)(updatedAlarms);\n      setAlarms(updatedAlarms);\n\n      // Schedule notification if alarm is enabled\n      if (newAlarm.enabled) {\n        await (0, _utilsAlarmScheduler.scheduleAlarmNotification)(newAlarm);\n      }\n    };\n    const updateAlarm = async (id, updates) => {\n      const updatedAlarms = alarms.map(alarm => alarm.id === id ? Object.assign({}, alarm, updates) : alarm);\n      await (0, _utilsAlarmStorage.saveAlarms)(updatedAlarms);\n      setAlarms(updatedAlarms);\n\n      // Reschedule notification\n      const updatedAlarm = updatedAlarms.find(a => a.id === id);\n      if (updatedAlarm) {\n        await (0, _utilsAlarmScheduler.cancelAlarmNotification)(id);\n        if (updatedAlarm.enabled) {\n          await (0, _utilsAlarmScheduler.scheduleAlarmNotification)(updatedAlarm);\n        }\n      }\n    };\n    const deleteAlarm = async id => {\n      const updatedAlarms = alarms.filter(alarm => alarm.id !== id);\n      await (0, _utilsAlarmStorage.saveAlarms)(updatedAlarms);\n      setAlarms(updatedAlarms);\n      await (0, _utilsAlarmScheduler.cancelAlarmNotification)(id);\n    };\n    const toggleAlarm = async id => {\n      const alarm = alarms.find(a => a.id === id);\n      if (alarm) {\n        await updateAlarm(id, {\n          enabled: !alarm.enabled\n        });\n      }\n    };\n    const updateSettings = async newSettings => {\n      const updated = Object.assign({}, settings, newSettings);\n      await (0, _utilsAlarmStorage.saveSettings)(updated);\n      setSettings(updated);\n    };\n    return /*#__PURE__*/(0, _reactJsxDevRuntime.jsxDEV)(AlarmContext.Provider, {\n      value: {\n        alarms,\n        settings,\n        addAlarm,\n        updateAlarm,\n        deleteAlarm,\n        toggleAlarm,\n        updateSettings,\n        refreshAlarms\n      },\n      children: children\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 97,\n      columnNumber: 5\n    }, this);\n  };\n  _s(AlarmProvider, \"nRrLFcYP8b/dgmarEC53HcnlJCU=\");\n  _c = AlarmProvider;\n  const useAlarms = () => {\n    _s2();\n    const context = (0, _react.useContext)(AlarmContext);\n    if (!context) {\n      throw new Error('useAlarms must be used within AlarmProvider');\n    }\n    return context;\n  };\n  _s2(useAlarms, \"b9L3QQ+jgeyIrH0NfHrJ8nn7VMU=\");\n  var _c;\n  $RefreshReg$(_c, \"AlarmProvider\");\n});","lineCount":127,"map":[[10,2,19,0,"Object"],[10,8,19,0],[10,9,19,0,"defineProperty"],[10,23,19,0],[10,24,19,0,"exports"],[10,31,19,0],[11,4,19,0,"enumerable"],[11,14,19,0],[12,4,19,0,"get"],[12,7,19,0],[12,18,19,0,"get"],[12,19,19,0],[13,6,19,0],[13,13,19,0,"AlarmProvider"],[13,26,19,0],[14,4,19,0],[15,2,19,0],[16,2,112,0,"Object"],[16,8,112,0],[16,9,112,0,"defineProperty"],[16,23,112,0],[16,24,112,0,"exports"],[16,31,112,0],[17,4,112,0,"enumerable"],[17,14,112,0],[18,4,112,0,"get"],[18,7,112,0],[18,18,112,0,"get"],[18,19,112,0],[19,6,112,0],[19,13,112,0,"useAlarms"],[19,22,112,0],[20,4,112,0],[21,2,112,0],[22,2,1,0],[22,6,1,0,"_react"],[22,12,1,0],[22,15,1,0,"require"],[22,22,1,0],[22,23,1,0,"_dependencyMap"],[22,37,1,0],[23,2,3,0],[23,6,3,0,"_utilsAlarmStorage"],[23,24,3,0],[23,27,3,0,"require"],[23,34,3,0],[23,35,3,0,"_dependencyMap"],[23,49,3,0],[24,2,4,0],[24,6,4,0,"_utilsAlarmScheduler"],[24,26,4,0],[24,29,4,0,"require"],[24,36,4,0],[24,37,4,0,"_dependencyMap"],[24,51,4,0],[25,2,4,93],[25,6,4,93,"_reactJsxDevRuntime"],[25,25,4,93],[25,28,4,93,"require"],[25,35,4,93],[25,36,4,93,"_dependencyMap"],[25,50,4,93],[26,2,17,0],[26,8,17,6,"AlarmContext"],[26,20,17,18],[26,36,17,21],[26,40,17,21,"createContext"],[26,46,17,34],[26,47,17,34,"createContext"],[26,60,17,34],[26,62,17,65,"undefined"],[26,71,17,74],[26,72,17,75],[27,2,19,7],[27,8,19,13,"AlarmProvider"],[27,21,19,26],[27,24,19,29,"AlarmProvider"],[27,25,19,30],[28,4,19,32,"children"],[29,2,19,66],[29,3,19,67],[29,8,19,72],[30,4,19,72,"_s"],[30,6,19,72],[31,4,20,2],[31,10,20,8],[31,11,20,9,"alarms"],[31,17,20,15],[31,19,20,17,"setAlarms"],[31,28,20,26],[31,29,20,27],[31,32,20,30],[31,36,20,30,"useState"],[31,42,20,38],[31,43,20,38,"useState"],[31,51,20,38],[31,53,20,48],[31,55,20,50],[31,56,20,51],[32,4,21,2],[32,10,21,8],[32,11,21,9,"settings"],[32,19,21,17],[32,21,21,19,"setSettings"],[32,32,21,30],[32,33,21,31],[32,36,21,34],[32,40,21,34,"useState"],[32,46,21,42],[32,47,21,42,"useState"],[32,55,21,42],[32,57,21,53],[33,6,22,4,"use24Hour"],[33,15,22,13],[33,17,22,15],[33,22,22,20],[34,6,23,4,"emergencyStopMinutes"],[34,26,23,24],[34,28,23,26],[34,30,23,28],[35,6,24,4,"vibrateEnabled"],[35,20,24,18],[35,22,24,20],[36,4,25,2],[36,5,25,3],[36,6,25,4],[37,4,27,2],[37,8,27,2,"useEffect"],[37,14,27,11],[37,15,27,11,"useEffect"],[37,24,27,11],[37,26,27,12],[37,32,27,18],[38,6,28,4,"loadInitialData"],[38,21,28,19],[38,22,28,20],[38,23,28,21],[39,4,29,2],[39,5,29,3],[39,7,29,5],[39,9,29,7],[39,10,29,8],[40,4,31,2],[40,10,31,8,"loadInitialData"],[40,25,31,23],[40,28,31,26],[40,34,31,26,"loadInitialData"],[40,35,31,26],[40,40,31,38],[41,6,32,4],[41,12,32,10,"loadedAlarms"],[41,24,32,22],[41,27,32,25],[41,33,32,31],[41,37,32,31,"loadAlarms"],[41,55,32,41],[41,56,32,41,"loadAlarms"],[41,66,32,41],[41,68,32,42],[41,69,32,43],[42,6,33,4],[42,12,33,10,"loadedSettings"],[42,26,33,24],[42,29,33,27],[42,35,33,33],[42,39,33,33,"loadSettings"],[42,57,33,45],[42,58,33,45,"loadSettings"],[42,70,33,45],[42,72,33,46],[42,73,33,47],[43,6,34,4,"setAlarms"],[43,15,34,13],[43,16,34,14,"loadedAlarms"],[43,28,34,26],[43,29,34,27],[44,6,35,4,"setSettings"],[44,17,35,15],[44,18,35,16,"loadedSettings"],[44,32,35,30],[44,33,35,31],[45,4,36,2],[45,5,36,3],[46,4,38,2],[46,10,38,8,"refreshAlarms"],[46,23,38,21],[46,26,38,24],[46,32,38,24,"refreshAlarms"],[46,33,38,24],[46,38,38,36],[47,6,39,4],[47,12,39,10,"loadedAlarms"],[47,24,39,22],[47,27,39,25],[47,33,39,31],[47,37,39,31,"loadAlarms"],[47,55,39,41],[47,56,39,41,"loadAlarms"],[47,66,39,41],[47,68,39,42],[47,69,39,43],[48,6,40,4,"setAlarms"],[48,15,40,13],[48,16,40,14,"loadedAlarms"],[48,28,40,26],[48,29,40,27],[49,4,41,2],[49,5,41,3],[50,4,43,2],[50,10,43,8,"addAlarm"],[50,18,43,16],[50,21,43,19],[50,27,43,26,"alarmData"],[50,36,43,54],[50,40,43,59],[51,6,44,4],[51,12,44,10,"newAlarm"],[51,20,44,25],[51,23,44,25,"Object"],[51,29,44,25],[51,30,44,25,"assign"],[51,36,44,25],[51,41,45,9,"alarmData"],[51,50,45,18],[52,8,46,6,"id"],[52,10,46,8],[52,12,46,10,"Date"],[52,16,46,14],[52,17,46,15,"now"],[52,20,46,18],[52,21,46,19],[52,22,46,20],[52,23,46,21,"toString"],[52,31,46,29],[52,32,46,30],[53,6,46,31],[53,8,47,5],[54,6,49,4],[54,12,49,10,"updatedAlarms"],[54,25,49,23],[54,28,49,26],[54,29,49,27],[54,32,49,30,"alarms"],[54,38,49,36],[54,40,49,38,"newAlarm"],[54,48,49,46],[54,49,49,47],[55,6,50,4],[55,12,50,10],[55,16,50,10,"saveAlarms"],[55,34,50,20],[55,35,50,20,"saveAlarms"],[55,45,50,20],[55,47,50,21,"updatedAlarms"],[55,60,50,34],[55,61,50,35],[56,6,51,4,"setAlarms"],[56,15,51,13],[56,16,51,14,"updatedAlarms"],[56,29,51,27],[56,30,51,28],[58,6,53,4],[59,6,54,4],[59,10,54,8,"newAlarm"],[59,18,54,16],[59,19,54,17,"enabled"],[59,26,54,24],[59,28,54,26],[60,8,55,6],[60,14,55,12],[60,18,55,12,"scheduleAlarmNotification"],[60,38,55,37],[60,39,55,37,"scheduleAlarmNotification"],[60,64,55,37],[60,66,55,38,"newAlarm"],[60,74,55,46],[60,75,55,47],[61,6,56,4],[62,4,57,2],[62,5,57,3],[63,4,59,2],[63,10,59,8,"updateAlarm"],[63,21,59,19],[63,24,59,22],[63,30,59,22,"updateAlarm"],[63,31,59,29,"id"],[63,33,59,39],[63,35,59,41,"updates"],[63,42,59,64],[63,47,59,69],[64,6,60,4],[64,12,60,10,"updatedAlarms"],[64,25,60,23],[64,28,60,26,"alarms"],[64,34,60,32],[64,35,60,33,"map"],[64,38,60,36],[64,39,60,37,"alarm"],[64,44,60,42],[64,48,61,6,"alarm"],[64,53,61,11],[64,54,61,12,"id"],[64,56,61,14],[64,61,61,19,"id"],[64,63,61,21],[64,66,61,21,"Object"],[64,72,61,21],[64,73,61,21,"assign"],[64,79,61,21],[64,84,61,29,"alarm"],[64,89,61,34],[64,91,61,39,"updates"],[64,98,61,46],[64,102,61,51,"alarm"],[64,107,62,4],[64,108,62,5],[65,6,63,4],[65,12,63,10],[65,16,63,10,"saveAlarms"],[65,34,63,20],[65,35,63,20,"saveAlarms"],[65,45,63,20],[65,47,63,21,"updatedAlarms"],[65,60,63,34],[65,61,63,35],[66,6,64,4,"setAlarms"],[66,15,64,13],[66,16,64,14,"updatedAlarms"],[66,29,64,27],[66,30,64,28],[68,6,66,4],[69,6,67,4],[69,12,67,10,"updatedAlarm"],[69,24,67,22],[69,27,67,25,"updatedAlarms"],[69,40,67,38],[69,41,67,39,"find"],[69,45,67,43],[69,46,67,44,"a"],[69,47,67,45],[69,51,67,49,"a"],[69,52,67,50],[69,53,67,51,"id"],[69,55,67,53],[69,60,67,58,"id"],[69,62,67,60],[69,63,67,61],[70,6,68,4],[70,10,68,8,"updatedAlarm"],[70,22,68,20],[70,24,68,22],[71,8,69,6],[71,14,69,12],[71,18,69,12,"cancelAlarmNotification"],[71,38,69,35],[71,39,69,35,"cancelAlarmNotification"],[71,62,69,35],[71,64,69,36,"id"],[71,66,69,38],[71,67,69,39],[72,8,70,6],[72,12,70,10,"updatedAlarm"],[72,24,70,22],[72,25,70,23,"enabled"],[72,32,70,30],[72,34,70,32],[73,10,71,8],[73,16,71,14],[73,20,71,14,"scheduleAlarmNotification"],[73,40,71,39],[73,41,71,39,"scheduleAlarmNotification"],[73,66,71,39],[73,68,71,40,"updatedAlarm"],[73,80,71,52],[73,81,71,53],[74,8,72,6],[75,6,73,4],[76,4,74,2],[76,5,74,3],[77,4,76,2],[77,10,76,8,"deleteAlarm"],[77,21,76,19],[77,24,76,22],[77,30,76,29,"id"],[77,32,76,39],[77,36,76,44],[78,6,77,4],[78,12,77,10,"updatedAlarms"],[78,25,77,23],[78,28,77,26,"alarms"],[78,34,77,32],[78,35,77,33,"filter"],[78,41,77,39],[78,42,77,40,"alarm"],[78,47,77,45],[78,51,77,49,"alarm"],[78,56,77,54],[78,57,77,55,"id"],[78,59,77,57],[78,64,77,62,"id"],[78,66,77,64],[78,67,77,65],[79,6,78,4],[79,12,78,10],[79,16,78,10,"saveAlarms"],[79,34,78,20],[79,35,78,20,"saveAlarms"],[79,45,78,20],[79,47,78,21,"updatedAlarms"],[79,60,78,34],[79,61,78,35],[80,6,79,4,"setAlarms"],[80,15,79,13],[80,16,79,14,"updatedAlarms"],[80,29,79,27],[80,30,79,28],[81,6,80,4],[81,12,80,10],[81,16,80,10,"cancelAlarmNotification"],[81,36,80,33],[81,37,80,33,"cancelAlarmNotification"],[81,60,80,33],[81,62,80,34,"id"],[81,64,80,36],[81,65,80,37],[82,4,81,2],[82,5,81,3],[83,4,83,2],[83,10,83,8,"toggleAlarm"],[83,21,83,19],[83,24,83,22],[83,30,83,29,"id"],[83,32,83,39],[83,36,83,44],[84,6,84,4],[84,12,84,10,"alarm"],[84,17,84,15],[84,20,84,18,"alarms"],[84,26,84,24],[84,27,84,25,"find"],[84,31,84,29],[84,32,84,30,"a"],[84,33,84,31],[84,37,84,35,"a"],[84,38,84,36],[84,39,84,37,"id"],[84,41,84,39],[84,46,84,44,"id"],[84,48,84,46],[84,49,84,47],[85,6,85,4],[85,10,85,8,"alarm"],[85,15,85,13],[85,17,85,15],[86,8,86,6],[86,14,86,12,"updateAlarm"],[86,25,86,23],[86,26,86,24,"id"],[86,28,86,26],[86,30,86,28],[87,10,86,30,"enabled"],[87,17,86,37],[87,19,86,39],[87,20,86,40,"alarm"],[87,25,86,45],[87,26,86,46,"enabled"],[88,8,86,54],[88,9,86,55],[88,10,86,56],[89,6,87,4],[90,4,88,2],[90,5,88,3],[91,4,90,2],[91,10,90,8,"updateSettings"],[91,24,90,22],[91,27,90,25],[91,33,90,32,"newSettings"],[91,44,90,62],[91,48,90,67],[92,6,91,4],[92,12,91,10,"updated"],[92,19,91,17],[92,22,91,17,"Object"],[92,28,91,17],[92,29,91,17,"assign"],[92,35,91,17],[92,40,91,25,"settings"],[92,48,91,33],[92,50,91,38,"newSettings"],[92,61,91,49],[92,62,91,51],[93,6,92,4],[93,12,92,10],[93,16,92,10,"saveSettings"],[93,34,92,22],[93,35,92,22,"saveSettings"],[93,47,92,22],[93,49,92,23,"updated"],[93,56,92,30],[93,57,92,31],[94,6,93,4,"setSettings"],[94,17,93,15],[94,18,93,16,"updated"],[94,25,93,23],[94,26,93,24],[95,4,94,2],[95,5,94,3],[96,4,96,2],[96,24,97,4],[96,28,97,4,"_reactJsxDevRuntime"],[96,47,97,4],[96,48,97,4,"jsxDEV"],[96,54,97,4],[96,56,97,5,"AlarmContext"],[96,68,97,17],[96,69,97,18,"Provider"],[96,77,97,26],[97,6,97,27,"value"],[97,11,97,32],[97,13,97,34],[98,8,98,6,"alarms"],[98,14,98,12],[99,8,99,6,"settings"],[99,16,99,14],[100,8,100,6,"addAlarm"],[100,16,100,14],[101,8,101,6,"updateAlarm"],[101,19,101,17],[102,8,102,6,"deleteAlarm"],[102,19,102,17],[103,8,103,6,"toggleAlarm"],[103,19,103,17],[104,8,104,6,"updateSettings"],[104,22,104,20],[105,8,105,6,"refreshAlarms"],[106,6,106,4],[106,7,106,6],[107,6,106,6,"children"],[107,14,106,6],[107,16,107,7,"children"],[108,4,107,15],[109,6,107,15,"fileName"],[109,14,107,15],[109,16,107,15,"_jsxFileName"],[109,28,107,15],[110,6,107,15,"lineNumber"],[110,16,107,15],[111,6,107,15,"columnNumber"],[111,18,107,15],[112,4,107,15],[112,11,108,27],[112,12,108,28],[113,2,110,0],[113,3,110,1],[114,2,110,2,"_s"],[114,4,110,2],[114,5,19,13,"AlarmProvider"],[114,18,19,26],[115,2,19,26,"_c"],[115,4,19,26],[115,7,19,13,"AlarmProvider"],[115,20,19,26],[116,2,112,7],[116,8,112,13,"useAlarms"],[116,17,112,22],[116,20,112,25,"useAlarms"],[116,21,112,25],[116,26,112,31],[117,4,112,31,"_s2"],[117,7,112,31],[118,4,113,2],[118,10,113,8,"context"],[118,17,113,15],[118,20,113,18],[118,24,113,18,"useContext"],[118,30,113,28],[118,31,113,28,"useContext"],[118,41,113,28],[118,43,113,29,"AlarmContext"],[118,55,113,41],[118,56,113,42],[119,4,114,2],[119,8,114,6],[119,9,114,7,"context"],[119,16,114,14],[119,18,114,16],[120,6,115,4],[120,12,115,10],[120,16,115,14,"Error"],[120,21,115,19],[120,22,115,20],[120,67,115,65],[120,68,115,66],[121,4,116,2],[122,4,117,2],[122,11,117,9,"context"],[122,18,117,16],[123,2,118,0],[123,3,118,1],[124,2,118,2,"_s2"],[124,5,118,2],[124,6,112,13,"useAlarms"],[124,15,112,22],[125,2,112,22],[125,6,112,22,"_c"],[125,8,112,22],[126,2,112,22,"$RefreshReg$"],[126,14,112,22],[126,15,112,22,"_c"],[126,17,112,22],[127,0,112,22],[127,3]],"functionMap":{"names":["<global>","AlarmProvider","useEffect$argument_0","loadInitialData","refreshAlarms","addAlarm","updateAlarm","alarms.map$argument_0","updatedAlarms.find$argument_0","deleteAlarm","alarms.filter$argument_0","toggleAlarm","alarms.find$argument_0","updateSettings","useAlarms"],"mappings":"AAA;6BCkB;YCQ;GDE;0BEE;GFK;wBGE;GHG;mBIE;GJc;sBKE;qCCC;wDDC;4CEM,gBF;GLO;sBQE;wCCC,wBD;GRI;sBUE;8BCC,gBD;GVI;yBYE;GZI;CDgB;yBcE;CdM"},"hasCjsExports":false},"type":"js/module"}]}