{"dependencies":[{"name":"react","data":{"asyncType":null,"isESMImport":true,"locs":[{"start":{"line":1,"column":0,"index":0},"end":{"line":1,"column":89,"index":89}}],"key":"RtGiGa+/H7VrI7GDQDLhO1UbpU8=","exportNames":["*"],"imports":1}},{"name":"../utils/alarmStorage","data":{"asyncType":null,"isESMImport":true,"locs":[{"start":{"line":3,"column":0,"index":140},"end":{"line":3,"column":91,"index":231}}],"key":"ZoYi+wRz5U1P1A9zPmRBWhRarzE=","exportNames":["*"],"imports":1}},{"name":"../utils/alarmScheduler","data":{"asyncType":null,"isESMImport":true,"locs":[{"start":{"line":4,"column":0,"index":232},"end":{"line":4,"column":93,"index":325}}],"key":"AXa6vBro5lHbtoBbw83HvI3gDAk=","exportNames":["*"],"imports":1}},{"name":"react/jsx-dev-runtime","data":{"asyncType":null,"isESMImport":false,"locs":[],"key":"L9D70Z4hi4aGuui1ysja/oQ5ytI=","exportNames":["*"],"imports":1}}],"output":[{"data":{"code":"__d(function (global, require, _$$_IMPORT_DEFAULT, _$$_IMPORT_ALL, module, exports, _dependencyMap) {\n  \"use strict\";\n\n  var _jsxFileName = \"/app/frontend/contexts/AlarmContext.tsx\";\n  Object.defineProperty(exports, '__esModule', {\n    value: true\n  });\n  Object.defineProperty(exports, \"AlarmProvider\", {\n    enumerable: true,\n    get: function () {\n      return AlarmProvider;\n    }\n  });\n  Object.defineProperty(exports, \"useAlarms\", {\n    enumerable: true,\n    get: function () {\n      return useAlarms;\n    }\n  });\n  var _react = require(_dependencyMap[0], \"react\");\n  var _utilsAlarmStorage = require(_dependencyMap[1], \"../utils/alarmStorage\");\n  var _utilsAlarmScheduler = require(_dependencyMap[2], \"../utils/alarmScheduler\");\n  var _reactJsxDevRuntime = require(_dependencyMap[3], \"react/jsx-dev-runtime\");\n  const AlarmContext = /*#__PURE__*/(0, _react.createContext)(undefined);\n  const AlarmProvider = ({\n    children\n  }) => {\n    const [alarms, setAlarms] = (0, _react.useState)([]);\n    const [settings, setSettings] = (0, _react.useState)({\n      use24Hour: false,\n      emergencyStopMinutes: 10,\n      vibrateEnabled: true\n    });\n    (0, _react.useEffect)(() => {\n      loadInitialData();\n    }, []);\n    const loadInitialData = async () => {\n      const loadedAlarms = await (0, _utilsAlarmStorage.loadAlarms)();\n      const loadedSettings = await (0, _utilsAlarmStorage.loadSettings)();\n      setAlarms(loadedAlarms);\n      setSettings(loadedSettings);\n    };\n    const refreshAlarms = async () => {\n      const loadedAlarms = await (0, _utilsAlarmStorage.loadAlarms)();\n      setAlarms(loadedAlarms);\n    };\n    const addAlarm = async alarmData => {\n      const newAlarm = {\n        ...alarmData,\n        id: Date.now().toString()\n      };\n      const updatedAlarms = [...alarms, newAlarm];\n      await (0, _utilsAlarmStorage.saveAlarms)(updatedAlarms);\n      setAlarms(updatedAlarms);\n\n      // Schedule notification if alarm is enabled\n      if (newAlarm.enabled) {\n        await (0, _utilsAlarmScheduler.scheduleAlarmNotification)(newAlarm);\n      }\n    };\n    const updateAlarm = async (id, updates) => {\n      const updatedAlarms = alarms.map(alarm => alarm.id === id ? {\n        ...alarm,\n        ...updates\n      } : alarm);\n      await (0, _utilsAlarmStorage.saveAlarms)(updatedAlarms);\n      setAlarms(updatedAlarms);\n\n      // Reschedule notification\n      const updatedAlarm = updatedAlarms.find(a => a.id === id);\n      if (updatedAlarm) {\n        await (0, _utilsAlarmScheduler.cancelAlarmNotification)(id);\n        if (updatedAlarm.enabled) {\n          await (0, _utilsAlarmScheduler.scheduleAlarmNotification)(updatedAlarm);\n        }\n      }\n    };\n    const deleteAlarm = async id => {\n      const updatedAlarms = alarms.filter(alarm => alarm.id !== id);\n      await (0, _utilsAlarmStorage.saveAlarms)(updatedAlarms);\n      setAlarms(updatedAlarms);\n      await (0, _utilsAlarmScheduler.cancelAlarmNotification)(id);\n    };\n    const toggleAlarm = async id => {\n      const alarm = alarms.find(a => a.id === id);\n      if (alarm) {\n        await updateAlarm(id, {\n          enabled: !alarm.enabled\n        });\n      }\n    };\n    const updateSettings = async newSettings => {\n      const updated = {\n        ...settings,\n        ...newSettings\n      };\n      await (0, _utilsAlarmStorage.saveSettings)(updated);\n      setSettings(updated);\n    };\n    return /*#__PURE__*/(0, _reactJsxDevRuntime.jsxDEV)(AlarmContext.Provider, {\n      value: {\n        alarms,\n        settings,\n        addAlarm,\n        updateAlarm,\n        deleteAlarm,\n        toggleAlarm,\n        updateSettings,\n        refreshAlarms\n      },\n      children: children\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 97,\n      columnNumber: 5\n    }, this);\n  };\n  const useAlarms = () => {\n    const context = (0, _react.useContext)(AlarmContext);\n    if (!context) {\n      throw new Error('useAlarms must be used within AlarmProvider');\n    }\n    return context;\n  };\n});","lineCount":125,"map":[[8,2,19,0,"Object"],[8,8,19,0],[8,9,19,0,"defineProperty"],[8,23,19,0],[8,24,19,0,"exports"],[8,31,19,0],[9,4,19,0,"enumerable"],[9,14,19,0],[10,4,19,0,"get"],[10,7,19,0],[10,18,19,0,"get"],[10,19,19,0],[11,6,19,0],[11,13,19,0,"AlarmProvider"],[11,26,19,0],[12,4,19,0],[13,2,19,0],[14,2,112,0,"Object"],[14,8,112,0],[14,9,112,0,"defineProperty"],[14,23,112,0],[14,24,112,0,"exports"],[14,31,112,0],[15,4,112,0,"enumerable"],[15,14,112,0],[16,4,112,0,"get"],[16,7,112,0],[16,18,112,0,"get"],[16,19,112,0],[17,6,112,0],[17,13,112,0,"useAlarms"],[17,22,112,0],[18,4,112,0],[19,2,112,0],[20,2,1,0],[20,6,1,0,"_react"],[20,12,1,0],[20,15,1,0,"require"],[20,22,1,0],[20,23,1,0,"_dependencyMap"],[20,37,1,0],[21,2,3,0],[21,6,3,0,"_utilsAlarmStorage"],[21,24,3,0],[21,27,3,0,"require"],[21,34,3,0],[21,35,3,0,"_dependencyMap"],[21,49,3,0],[22,2,4,0],[22,6,4,0,"_utilsAlarmScheduler"],[22,26,4,0],[22,29,4,0,"require"],[22,36,4,0],[22,37,4,0,"_dependencyMap"],[22,51,4,0],[23,2,4,93],[23,6,4,93,"_reactJsxDevRuntime"],[23,25,4,93],[23,28,4,93,"require"],[23,35,4,93],[23,36,4,93,"_dependencyMap"],[23,50,4,93],[24,2,17,0],[24,8,17,6,"AlarmContext"],[24,20,17,18],[24,36,17,21],[24,40,17,21,"createContext"],[24,46,17,34],[24,47,17,34,"createContext"],[24,60,17,34],[24,62,17,65,"undefined"],[24,71,17,74],[24,72,17,75],[25,2,19,7],[25,8,19,13,"AlarmProvider"],[25,21,19,26],[25,24,19,29,"AlarmProvider"],[25,25,19,30],[26,4,19,32,"children"],[27,2,19,66],[27,3,19,67],[27,8,19,72],[28,4,20,2],[28,10,20,8],[28,11,20,9,"alarms"],[28,17,20,15],[28,19,20,17,"setAlarms"],[28,28,20,26],[28,29,20,27],[28,32,20,30],[28,36,20,30,"useState"],[28,42,20,38],[28,43,20,38,"useState"],[28,51,20,38],[28,53,20,48],[28,55,20,50],[28,56,20,51],[29,4,21,2],[29,10,21,8],[29,11,21,9,"settings"],[29,19,21,17],[29,21,21,19,"setSettings"],[29,32,21,30],[29,33,21,31],[29,36,21,34],[29,40,21,34,"useState"],[29,46,21,42],[29,47,21,42,"useState"],[29,55,21,42],[29,57,21,53],[30,6,22,4,"use24Hour"],[30,15,22,13],[30,17,22,15],[30,22,22,20],[31,6,23,4,"emergencyStopMinutes"],[31,26,23,24],[31,28,23,26],[31,30,23,28],[32,6,24,4,"vibrateEnabled"],[32,20,24,18],[32,22,24,20],[33,4,25,2],[33,5,25,3],[33,6,25,4],[34,4,27,2],[34,8,27,2,"useEffect"],[34,14,27,11],[34,15,27,11,"useEffect"],[34,24,27,11],[34,26,27,12],[34,32,27,18],[35,6,28,4,"loadInitialData"],[35,21,28,19],[35,22,28,20],[35,23,28,21],[36,4,29,2],[36,5,29,3],[36,7,29,5],[36,9,29,7],[36,10,29,8],[37,4,31,2],[37,10,31,8,"loadInitialData"],[37,25,31,23],[37,28,31,26],[37,34,31,26,"loadInitialData"],[37,35,31,26],[37,40,31,38],[38,6,32,4],[38,12,32,10,"loadedAlarms"],[38,24,32,22],[38,27,32,25],[38,33,32,31],[38,37,32,31,"loadAlarms"],[38,55,32,41],[38,56,32,41,"loadAlarms"],[38,66,32,41],[38,68,32,42],[38,69,32,43],[39,6,33,4],[39,12,33,10,"loadedSettings"],[39,26,33,24],[39,29,33,27],[39,35,33,33],[39,39,33,33,"loadSettings"],[39,57,33,45],[39,58,33,45,"loadSettings"],[39,70,33,45],[39,72,33,46],[39,73,33,47],[40,6,34,4,"setAlarms"],[40,15,34,13],[40,16,34,14,"loadedAlarms"],[40,28,34,26],[40,29,34,27],[41,6,35,4,"setSettings"],[41,17,35,15],[41,18,35,16,"loadedSettings"],[41,32,35,30],[41,33,35,31],[42,4,36,2],[42,5,36,3],[43,4,38,2],[43,10,38,8,"refreshAlarms"],[43,23,38,21],[43,26,38,24],[43,32,38,24,"refreshAlarms"],[43,33,38,24],[43,38,38,36],[44,6,39,4],[44,12,39,10,"loadedAlarms"],[44,24,39,22],[44,27,39,25],[44,33,39,31],[44,37,39,31,"loadAlarms"],[44,55,39,41],[44,56,39,41,"loadAlarms"],[44,66,39,41],[44,68,39,42],[44,69,39,43],[45,6,40,4,"setAlarms"],[45,15,40,13],[45,16,40,14,"loadedAlarms"],[45,28,40,26],[45,29,40,27],[46,4,41,2],[46,5,41,3],[47,4,43,2],[47,10,43,8,"addAlarm"],[47,18,43,16],[47,21,43,19],[47,27,43,26,"alarmData"],[47,36,43,54],[47,40,43,59],[48,6,44,4],[48,12,44,10,"newAlarm"],[48,20,44,25],[48,23,44,28],[49,8,45,6],[49,11,45,9,"alarmData"],[49,20,45,18],[50,8,46,6,"id"],[50,10,46,8],[50,12,46,10,"Date"],[50,16,46,14],[50,17,46,15,"now"],[50,20,46,18],[50,21,46,19],[50,22,46,20],[50,23,46,21,"toString"],[50,31,46,29],[50,32,46,30],[51,6,47,4],[51,7,47,5],[52,6,49,4],[52,12,49,10,"updatedAlarms"],[52,25,49,23],[52,28,49,26],[52,29,49,27],[52,32,49,30,"alarms"],[52,38,49,36],[52,40,49,38,"newAlarm"],[52,48,49,46],[52,49,49,47],[53,6,50,4],[53,12,50,10],[53,16,50,10,"saveAlarms"],[53,34,50,20],[53,35,50,20,"saveAlarms"],[53,45,50,20],[53,47,50,21,"updatedAlarms"],[53,60,50,34],[53,61,50,35],[54,6,51,4,"setAlarms"],[54,15,51,13],[54,16,51,14,"updatedAlarms"],[54,29,51,27],[54,30,51,28],[56,6,53,4],[57,6,54,4],[57,10,54,8,"newAlarm"],[57,18,54,16],[57,19,54,17,"enabled"],[57,26,54,24],[57,28,54,26],[58,8,55,6],[58,14,55,12],[58,18,55,12,"scheduleAlarmNotification"],[58,38,55,37],[58,39,55,37,"scheduleAlarmNotification"],[58,64,55,37],[58,66,55,38,"newAlarm"],[58,74,55,46],[58,75,55,47],[59,6,56,4],[60,4,57,2],[60,5,57,3],[61,4,59,2],[61,10,59,8,"updateAlarm"],[61,21,59,19],[61,24,59,22],[61,30,59,22,"updateAlarm"],[61,31,59,29,"id"],[61,33,59,39],[61,35,59,41,"updates"],[61,42,59,64],[61,47,59,69],[62,6,60,4],[62,12,60,10,"updatedAlarms"],[62,25,60,23],[62,28,60,26,"alarms"],[62,34,60,32],[62,35,60,33,"map"],[62,38,60,36],[62,39,60,37,"alarm"],[62,44,60,42],[62,48,61,6,"alarm"],[62,53,61,11],[62,54,61,12,"id"],[62,56,61,14],[62,61,61,19,"id"],[62,63,61,21],[62,66,61,24],[63,8,61,26],[63,11,61,29,"alarm"],[63,16,61,34],[64,8,61,36],[64,11,61,39,"updates"],[65,6,61,47],[65,7,61,48],[65,10,61,51,"alarm"],[65,15,62,4],[65,16,62,5],[66,6,63,4],[66,12,63,10],[66,16,63,10,"saveAlarms"],[66,34,63,20],[66,35,63,20,"saveAlarms"],[66,45,63,20],[66,47,63,21,"updatedAlarms"],[66,60,63,34],[66,61,63,35],[67,6,64,4,"setAlarms"],[67,15,64,13],[67,16,64,14,"updatedAlarms"],[67,29,64,27],[67,30,64,28],[69,6,66,4],[70,6,67,4],[70,12,67,10,"updatedAlarm"],[70,24,67,22],[70,27,67,25,"updatedAlarms"],[70,40,67,38],[70,41,67,39,"find"],[70,45,67,43],[70,46,67,44,"a"],[70,47,67,45],[70,51,67,49,"a"],[70,52,67,50],[70,53,67,51,"id"],[70,55,67,53],[70,60,67,58,"id"],[70,62,67,60],[70,63,67,61],[71,6,68,4],[71,10,68,8,"updatedAlarm"],[71,22,68,20],[71,24,68,22],[72,8,69,6],[72,14,69,12],[72,18,69,12,"cancelAlarmNotification"],[72,38,69,35],[72,39,69,35,"cancelAlarmNotification"],[72,62,69,35],[72,64,69,36,"id"],[72,66,69,38],[72,67,69,39],[73,8,70,6],[73,12,70,10,"updatedAlarm"],[73,24,70,22],[73,25,70,23,"enabled"],[73,32,70,30],[73,34,70,32],[74,10,71,8],[74,16,71,14],[74,20,71,14,"scheduleAlarmNotification"],[74,40,71,39],[74,41,71,39,"scheduleAlarmNotification"],[74,66,71,39],[74,68,71,40,"updatedAlarm"],[74,80,71,52],[74,81,71,53],[75,8,72,6],[76,6,73,4],[77,4,74,2],[77,5,74,3],[78,4,76,2],[78,10,76,8,"deleteAlarm"],[78,21,76,19],[78,24,76,22],[78,30,76,29,"id"],[78,32,76,39],[78,36,76,44],[79,6,77,4],[79,12,77,10,"updatedAlarms"],[79,25,77,23],[79,28,77,26,"alarms"],[79,34,77,32],[79,35,77,33,"filter"],[79,41,77,39],[79,42,77,40,"alarm"],[79,47,77,45],[79,51,77,49,"alarm"],[79,56,77,54],[79,57,77,55,"id"],[79,59,77,57],[79,64,77,62,"id"],[79,66,77,64],[79,67,77,65],[80,6,78,4],[80,12,78,10],[80,16,78,10,"saveAlarms"],[80,34,78,20],[80,35,78,20,"saveAlarms"],[80,45,78,20],[80,47,78,21,"updatedAlarms"],[80,60,78,34],[80,61,78,35],[81,6,79,4,"setAlarms"],[81,15,79,13],[81,16,79,14,"updatedAlarms"],[81,29,79,27],[81,30,79,28],[82,6,80,4],[82,12,80,10],[82,16,80,10,"cancelAlarmNotification"],[82,36,80,33],[82,37,80,33,"cancelAlarmNotification"],[82,60,80,33],[82,62,80,34,"id"],[82,64,80,36],[82,65,80,37],[83,4,81,2],[83,5,81,3],[84,4,83,2],[84,10,83,8,"toggleAlarm"],[84,21,83,19],[84,24,83,22],[84,30,83,29,"id"],[84,32,83,39],[84,36,83,44],[85,6,84,4],[85,12,84,10,"alarm"],[85,17,84,15],[85,20,84,18,"alarms"],[85,26,84,24],[85,27,84,25,"find"],[85,31,84,29],[85,32,84,30,"a"],[85,33,84,31],[85,37,84,35,"a"],[85,38,84,36],[85,39,84,37,"id"],[85,41,84,39],[85,46,84,44,"id"],[85,48,84,46],[85,49,84,47],[86,6,85,4],[86,10,85,8,"alarm"],[86,15,85,13],[86,17,85,15],[87,8,86,6],[87,14,86,12,"updateAlarm"],[87,25,86,23],[87,26,86,24,"id"],[87,28,86,26],[87,30,86,28],[88,10,86,30,"enabled"],[88,17,86,37],[88,19,86,39],[88,20,86,40,"alarm"],[88,25,86,45],[88,26,86,46,"enabled"],[89,8,86,54],[89,9,86,55],[89,10,86,56],[90,6,87,4],[91,4,88,2],[91,5,88,3],[92,4,90,2],[92,10,90,8,"updateSettings"],[92,24,90,22],[92,27,90,25],[92,33,90,32,"newSettings"],[92,44,90,62],[92,48,90,67],[93,6,91,4],[93,12,91,10,"updated"],[93,19,91,17],[93,22,91,20],[94,8,91,22],[94,11,91,25,"settings"],[94,19,91,33],[95,8,91,35],[95,11,91,38,"newSettings"],[96,6,91,50],[96,7,91,51],[97,6,92,4],[97,12,92,10],[97,16,92,10,"saveSettings"],[97,34,92,22],[97,35,92,22,"saveSettings"],[97,47,92,22],[97,49,92,23,"updated"],[97,56,92,30],[97,57,92,31],[98,6,93,4,"setSettings"],[98,17,93,15],[98,18,93,16,"updated"],[98,25,93,23],[98,26,93,24],[99,4,94,2],[99,5,94,3],[100,4,96,2],[100,24,97,4],[100,28,97,4,"_reactJsxDevRuntime"],[100,47,97,4],[100,48,97,4,"jsxDEV"],[100,54,97,4],[100,56,97,5,"AlarmContext"],[100,68,97,17],[100,69,97,18,"Provider"],[100,77,97,26],[101,6,97,27,"value"],[101,11,97,32],[101,13,97,34],[102,8,98,6,"alarms"],[102,14,98,12],[103,8,99,6,"settings"],[103,16,99,14],[104,8,100,6,"addAlarm"],[104,16,100,14],[105,8,101,6,"updateAlarm"],[105,19,101,17],[106,8,102,6,"deleteAlarm"],[106,19,102,17],[107,8,103,6,"toggleAlarm"],[107,19,103,17],[108,8,104,6,"updateSettings"],[108,22,104,20],[109,8,105,6,"refreshAlarms"],[110,6,106,4],[110,7,106,6],[111,6,106,6,"children"],[111,14,106,6],[111,16,107,7,"children"],[112,4,107,15],[113,6,107,15,"fileName"],[113,14,107,15],[113,16,107,15,"_jsxFileName"],[113,28,107,15],[114,6,107,15,"lineNumber"],[114,16,107,15],[115,6,107,15,"columnNumber"],[115,18,107,15],[116,4,107,15],[116,11,108,27],[116,12,108,28],[117,2,110,0],[117,3,110,1],[118,2,112,7],[118,8,112,13,"useAlarms"],[118,17,112,22],[118,20,112,25,"useAlarms"],[118,21,112,25],[118,26,112,31],[119,4,113,2],[119,10,113,8,"context"],[119,17,113,15],[119,20,113,18],[119,24,113,18,"useContext"],[119,30,113,28],[119,31,113,28,"useContext"],[119,41,113,28],[119,43,113,29,"AlarmContext"],[119,55,113,41],[119,56,113,42],[120,4,114,2],[120,8,114,6],[120,9,114,7,"context"],[120,16,114,14],[120,18,114,16],[121,6,115,4],[121,12,115,10],[121,16,115,14,"Error"],[121,21,115,19],[121,22,115,20],[121,67,115,65],[121,68,115,66],[122,4,116,2],[123,4,117,2],[123,11,117,9,"context"],[123,18,117,16],[124,2,118,0],[124,3,118,1],[125,0,118,2],[125,3]],"functionMap":{"names":["<global>","AlarmProvider","useEffect$argument_0","loadInitialData","refreshAlarms","addAlarm","updateAlarm","alarms.map$argument_0","updatedAlarms.find$argument_0","deleteAlarm","alarms.filter$argument_0","toggleAlarm","alarms.find$argument_0","updateSettings","useAlarms"],"mappings":"AAA;6BCkB;YCQ;GDE;0BEE;GFK;wBGE;GHG;mBIE;GJc;sBKE;qCCC;wDDC;4CEM,gBF;GLO;sBQE;wCCC,wBD;GRI;sBUE;8BCC,gBD;GVI;yBYE;GZI;CDgB;yBcE;CdM"},"hasCjsExports":false},"type":"js/module"}]}