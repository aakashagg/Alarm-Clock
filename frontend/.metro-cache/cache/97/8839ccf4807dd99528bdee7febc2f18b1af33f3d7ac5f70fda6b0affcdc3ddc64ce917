{"dependencies":[{"name":"react","data":{"asyncType":null,"isESMImport":true,"locs":[{"start":{"line":1,"column":0,"index":0},"end":{"line":1,"column":89,"index":89}}],"key":"RtGiGa+/H7VrI7GDQDLhO1UbpU8=","exportNames":["*"],"imports":1}},{"name":"../utils/alarmStorage","data":{"asyncType":null,"isESMImport":true,"locs":[{"start":{"line":3,"column":0,"index":140},"end":{"line":3,"column":91,"index":231}}],"key":"ZoYi+wRz5U1P1A9zPmRBWhRarzE=","exportNames":["*"],"imports":1}},{"name":"../utils/alarmScheduler","data":{"asyncType":null,"isESMImport":true,"locs":[{"start":{"line":4,"column":0,"index":232},"end":{"line":4,"column":93,"index":325}}],"key":"AXa6vBro5lHbtoBbw83HvI3gDAk=","exportNames":["*"],"imports":1}},{"name":"react/jsx-dev-runtime","data":{"asyncType":null,"isESMImport":false,"locs":[],"key":"L9D70Z4hi4aGuui1ysja/oQ5ytI=","exportNames":["*"],"imports":1}}],"output":[{"data":{"code":"__d(function (global, require, _$$_IMPORT_DEFAULT, _$$_IMPORT_ALL, module, exports, _dependencyMap) {\n  \"use strict\";\n\n  var _jsxFileName = \"/app/frontend/contexts/AlarmContext.tsx\",\n    _s = $RefreshSig$(),\n    _s2 = $RefreshSig$();\n  Object.defineProperty(exports, '__esModule', {\n    value: true\n  });\n  Object.defineProperty(exports, \"AlarmProvider\", {\n    enumerable: true,\n    get: function () {\n      return AlarmProvider;\n    }\n  });\n  Object.defineProperty(exports, \"useAlarms\", {\n    enumerable: true,\n    get: function () {\n      return useAlarms;\n    }\n  });\n  var _react = require(_dependencyMap[0], \"react\");\n  var _utilsAlarmStorage = require(_dependencyMap[1], \"../utils/alarmStorage\");\n  var _utilsAlarmScheduler = require(_dependencyMap[2], \"../utils/alarmScheduler\");\n  var _reactJsxDevRuntime = require(_dependencyMap[3], \"react/jsx-dev-runtime\");\n  const AlarmContext = /*#__PURE__*/(0, _react.createContext)(undefined);\n  const AlarmProvider = ({\n    children\n  }) => {\n    _s();\n    const [alarms, setAlarms] = (0, _react.useState)([]);\n    const [settings, setSettings] = (0, _react.useState)({\n      use24Hour: false,\n      emergencyStopMinutes: 10,\n      vibrateEnabled: true\n    });\n    (0, _react.useEffect)(() => {\n      loadInitialData();\n    }, []);\n    const loadInitialData = async () => {\n      const loadedAlarms = await (0, _utilsAlarmStorage.loadAlarms)();\n      const loadedSettings = await (0, _utilsAlarmStorage.loadSettings)();\n      setAlarms(loadedAlarms);\n      setSettings(loadedSettings);\n    };\n    const refreshAlarms = async () => {\n      const loadedAlarms = await (0, _utilsAlarmStorage.loadAlarms)();\n      setAlarms(loadedAlarms);\n    };\n    const addAlarm = async alarmData => {\n      const newAlarm = {\n        ...alarmData,\n        id: Date.now().toString()\n      };\n      const updatedAlarms = [...alarms, newAlarm];\n      await (0, _utilsAlarmStorage.saveAlarms)(updatedAlarms);\n      setAlarms(updatedAlarms);\n\n      // Schedule notification if alarm is enabled\n      if (newAlarm.enabled) {\n        await (0, _utilsAlarmScheduler.scheduleAlarmNotification)(newAlarm);\n      }\n    };\n    const updateAlarm = async (id, updates) => {\n      const updatedAlarms = alarms.map(alarm => alarm.id === id ? {\n        ...alarm,\n        ...updates\n      } : alarm);\n      await (0, _utilsAlarmStorage.saveAlarms)(updatedAlarms);\n      setAlarms(updatedAlarms);\n\n      // Reschedule notification\n      const updatedAlarm = updatedAlarms.find(a => a.id === id);\n      if (updatedAlarm) {\n        await (0, _utilsAlarmScheduler.cancelAlarmNotification)(id);\n        if (updatedAlarm.enabled) {\n          await (0, _utilsAlarmScheduler.scheduleAlarmNotification)(updatedAlarm);\n        }\n      }\n    };\n    const deleteAlarm = async id => {\n      const updatedAlarms = alarms.filter(alarm => alarm.id !== id);\n      await (0, _utilsAlarmStorage.saveAlarms)(updatedAlarms);\n      setAlarms(updatedAlarms);\n      await (0, _utilsAlarmScheduler.cancelAlarmNotification)(id);\n    };\n    const toggleAlarm = async id => {\n      const alarm = alarms.find(a => a.id === id);\n      if (alarm) {\n        await updateAlarm(id, {\n          enabled: !alarm.enabled\n        });\n      }\n    };\n    const updateSettings = async newSettings => {\n      const updated = {\n        ...settings,\n        ...newSettings\n      };\n      await (0, _utilsAlarmStorage.saveSettings)(updated);\n      setSettings(updated);\n    };\n    return /*#__PURE__*/(0, _reactJsxDevRuntime.jsxDEV)(AlarmContext.Provider, {\n      value: {\n        alarms,\n        settings,\n        addAlarm,\n        updateAlarm,\n        deleteAlarm,\n        toggleAlarm,\n        updateSettings,\n        refreshAlarms\n      },\n      children: children\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 97,\n      columnNumber: 5\n    }, this);\n  };\n  _s(AlarmProvider, \"nRrLFcYP8b/dgmarEC53HcnlJCU=\");\n  _c = AlarmProvider;\n  const useAlarms = () => {\n    _s2();\n    const context = (0, _react.useContext)(AlarmContext);\n    if (!context) {\n      throw new Error('useAlarms must be used within AlarmProvider');\n    }\n    return context;\n  };\n  _s2(useAlarms, \"b9L3QQ+jgeyIrH0NfHrJ8nn7VMU=\");\n  var _c;\n  $RefreshReg$(_c, \"AlarmProvider\");\n});","lineCount":134,"map":[[10,2,19,0,"Object"],[10,8,19,0],[10,9,19,0,"defineProperty"],[10,23,19,0],[10,24,19,0,"exports"],[10,31,19,0],[11,4,19,0,"enumerable"],[11,14,19,0],[12,4,19,0,"get"],[12,7,19,0],[12,18,19,0,"get"],[12,19,19,0],[13,6,19,0],[13,13,19,0,"AlarmProvider"],[13,26,19,0],[14,4,19,0],[15,2,19,0],[16,2,112,0,"Object"],[16,8,112,0],[16,9,112,0,"defineProperty"],[16,23,112,0],[16,24,112,0,"exports"],[16,31,112,0],[17,4,112,0,"enumerable"],[17,14,112,0],[18,4,112,0,"get"],[18,7,112,0],[18,18,112,0,"get"],[18,19,112,0],[19,6,112,0],[19,13,112,0,"useAlarms"],[19,22,112,0],[20,4,112,0],[21,2,112,0],[22,2,1,0],[22,6,1,0,"_react"],[22,12,1,0],[22,15,1,0,"require"],[22,22,1,0],[22,23,1,0,"_dependencyMap"],[22,37,1,0],[23,2,3,0],[23,6,3,0,"_utilsAlarmStorage"],[23,24,3,0],[23,27,3,0,"require"],[23,34,3,0],[23,35,3,0,"_dependencyMap"],[23,49,3,0],[24,2,4,0],[24,6,4,0,"_utilsAlarmScheduler"],[24,26,4,0],[24,29,4,0,"require"],[24,36,4,0],[24,37,4,0,"_dependencyMap"],[24,51,4,0],[25,2,4,93],[25,6,4,93,"_reactJsxDevRuntime"],[25,25,4,93],[25,28,4,93,"require"],[25,35,4,93],[25,36,4,93,"_dependencyMap"],[25,50,4,93],[26,2,17,0],[26,8,17,6,"AlarmContext"],[26,20,17,18],[26,36,17,21],[26,40,17,21,"createContext"],[26,46,17,34],[26,47,17,34,"createContext"],[26,60,17,34],[26,62,17,65,"undefined"],[26,71,17,74],[26,72,17,75],[27,2,19,7],[27,8,19,13,"AlarmProvider"],[27,21,19,26],[27,24,19,29,"AlarmProvider"],[27,25,19,30],[28,4,19,32,"children"],[29,2,19,66],[29,3,19,67],[29,8,19,72],[30,4,19,72,"_s"],[30,6,19,72],[31,4,20,2],[31,10,20,8],[31,11,20,9,"alarms"],[31,17,20,15],[31,19,20,17,"setAlarms"],[31,28,20,26],[31,29,20,27],[31,32,20,30],[31,36,20,30,"useState"],[31,42,20,38],[31,43,20,38,"useState"],[31,51,20,38],[31,53,20,48],[31,55,20,50],[31,56,20,51],[32,4,21,2],[32,10,21,8],[32,11,21,9,"settings"],[32,19,21,17],[32,21,21,19,"setSettings"],[32,32,21,30],[32,33,21,31],[32,36,21,34],[32,40,21,34,"useState"],[32,46,21,42],[32,47,21,42,"useState"],[32,55,21,42],[32,57,21,53],[33,6,22,4,"use24Hour"],[33,15,22,13],[33,17,22,15],[33,22,22,20],[34,6,23,4,"emergencyStopMinutes"],[34,26,23,24],[34,28,23,26],[34,30,23,28],[35,6,24,4,"vibrateEnabled"],[35,20,24,18],[35,22,24,20],[36,4,25,2],[36,5,25,3],[36,6,25,4],[37,4,27,2],[37,8,27,2,"useEffect"],[37,14,27,11],[37,15,27,11,"useEffect"],[37,24,27,11],[37,26,27,12],[37,32,27,18],[38,6,28,4,"loadInitialData"],[38,21,28,19],[38,22,28,20],[38,23,28,21],[39,4,29,2],[39,5,29,3],[39,7,29,5],[39,9,29,7],[39,10,29,8],[40,4,31,2],[40,10,31,8,"loadInitialData"],[40,25,31,23],[40,28,31,26],[40,34,31,26,"loadInitialData"],[40,35,31,26],[40,40,31,38],[41,6,32,4],[41,12,32,10,"loadedAlarms"],[41,24,32,22],[41,27,32,25],[41,33,32,31],[41,37,32,31,"loadAlarms"],[41,55,32,41],[41,56,32,41,"loadAlarms"],[41,66,32,41],[41,68,32,42],[41,69,32,43],[42,6,33,4],[42,12,33,10,"loadedSettings"],[42,26,33,24],[42,29,33,27],[42,35,33,33],[42,39,33,33,"loadSettings"],[42,57,33,45],[42,58,33,45,"loadSettings"],[42,70,33,45],[42,72,33,46],[42,73,33,47],[43,6,34,4,"setAlarms"],[43,15,34,13],[43,16,34,14,"loadedAlarms"],[43,28,34,26],[43,29,34,27],[44,6,35,4,"setSettings"],[44,17,35,15],[44,18,35,16,"loadedSettings"],[44,32,35,30],[44,33,35,31],[45,4,36,2],[45,5,36,3],[46,4,38,2],[46,10,38,8,"refreshAlarms"],[46,23,38,21],[46,26,38,24],[46,32,38,24,"refreshAlarms"],[46,33,38,24],[46,38,38,36],[47,6,39,4],[47,12,39,10,"loadedAlarms"],[47,24,39,22],[47,27,39,25],[47,33,39,31],[47,37,39,31,"loadAlarms"],[47,55,39,41],[47,56,39,41,"loadAlarms"],[47,66,39,41],[47,68,39,42],[47,69,39,43],[48,6,40,4,"setAlarms"],[48,15,40,13],[48,16,40,14,"loadedAlarms"],[48,28,40,26],[48,29,40,27],[49,4,41,2],[49,5,41,3],[50,4,43,2],[50,10,43,8,"addAlarm"],[50,18,43,16],[50,21,43,19],[50,27,43,26,"alarmData"],[50,36,43,54],[50,40,43,59],[51,6,44,4],[51,12,44,10,"newAlarm"],[51,20,44,25],[51,23,44,28],[52,8,45,6],[52,11,45,9,"alarmData"],[52,20,45,18],[53,8,46,6,"id"],[53,10,46,8],[53,12,46,10,"Date"],[53,16,46,14],[53,17,46,15,"now"],[53,20,46,18],[53,21,46,19],[53,22,46,20],[53,23,46,21,"toString"],[53,31,46,29],[53,32,46,30],[54,6,47,4],[54,7,47,5],[55,6,49,4],[55,12,49,10,"updatedAlarms"],[55,25,49,23],[55,28,49,26],[55,29,49,27],[55,32,49,30,"alarms"],[55,38,49,36],[55,40,49,38,"newAlarm"],[55,48,49,46],[55,49,49,47],[56,6,50,4],[56,12,50,10],[56,16,50,10,"saveAlarms"],[56,34,50,20],[56,35,50,20,"saveAlarms"],[56,45,50,20],[56,47,50,21,"updatedAlarms"],[56,60,50,34],[56,61,50,35],[57,6,51,4,"setAlarms"],[57,15,51,13],[57,16,51,14,"updatedAlarms"],[57,29,51,27],[57,30,51,28],[59,6,53,4],[60,6,54,4],[60,10,54,8,"newAlarm"],[60,18,54,16],[60,19,54,17,"enabled"],[60,26,54,24],[60,28,54,26],[61,8,55,6],[61,14,55,12],[61,18,55,12,"scheduleAlarmNotification"],[61,38,55,37],[61,39,55,37,"scheduleAlarmNotification"],[61,64,55,37],[61,66,55,38,"newAlarm"],[61,74,55,46],[61,75,55,47],[62,6,56,4],[63,4,57,2],[63,5,57,3],[64,4,59,2],[64,10,59,8,"updateAlarm"],[64,21,59,19],[64,24,59,22],[64,30,59,22,"updateAlarm"],[64,31,59,29,"id"],[64,33,59,39],[64,35,59,41,"updates"],[64,42,59,64],[64,47,59,69],[65,6,60,4],[65,12,60,10,"updatedAlarms"],[65,25,60,23],[65,28,60,26,"alarms"],[65,34,60,32],[65,35,60,33,"map"],[65,38,60,36],[65,39,60,37,"alarm"],[65,44,60,42],[65,48,61,6,"alarm"],[65,53,61,11],[65,54,61,12,"id"],[65,56,61,14],[65,61,61,19,"id"],[65,63,61,21],[65,66,61,24],[66,8,61,26],[66,11,61,29,"alarm"],[66,16,61,34],[67,8,61,36],[67,11,61,39,"updates"],[68,6,61,47],[68,7,61,48],[68,10,61,51,"alarm"],[68,15,62,4],[68,16,62,5],[69,6,63,4],[69,12,63,10],[69,16,63,10,"saveAlarms"],[69,34,63,20],[69,35,63,20,"saveAlarms"],[69,45,63,20],[69,47,63,21,"updatedAlarms"],[69,60,63,34],[69,61,63,35],[70,6,64,4,"setAlarms"],[70,15,64,13],[70,16,64,14,"updatedAlarms"],[70,29,64,27],[70,30,64,28],[72,6,66,4],[73,6,67,4],[73,12,67,10,"updatedAlarm"],[73,24,67,22],[73,27,67,25,"updatedAlarms"],[73,40,67,38],[73,41,67,39,"find"],[73,45,67,43],[73,46,67,44,"a"],[73,47,67,45],[73,51,67,49,"a"],[73,52,67,50],[73,53,67,51,"id"],[73,55,67,53],[73,60,67,58,"id"],[73,62,67,60],[73,63,67,61],[74,6,68,4],[74,10,68,8,"updatedAlarm"],[74,22,68,20],[74,24,68,22],[75,8,69,6],[75,14,69,12],[75,18,69,12,"cancelAlarmNotification"],[75,38,69,35],[75,39,69,35,"cancelAlarmNotification"],[75,62,69,35],[75,64,69,36,"id"],[75,66,69,38],[75,67,69,39],[76,8,70,6],[76,12,70,10,"updatedAlarm"],[76,24,70,22],[76,25,70,23,"enabled"],[76,32,70,30],[76,34,70,32],[77,10,71,8],[77,16,71,14],[77,20,71,14,"scheduleAlarmNotification"],[77,40,71,39],[77,41,71,39,"scheduleAlarmNotification"],[77,66,71,39],[77,68,71,40,"updatedAlarm"],[77,80,71,52],[77,81,71,53],[78,8,72,6],[79,6,73,4],[80,4,74,2],[80,5,74,3],[81,4,76,2],[81,10,76,8,"deleteAlarm"],[81,21,76,19],[81,24,76,22],[81,30,76,29,"id"],[81,32,76,39],[81,36,76,44],[82,6,77,4],[82,12,77,10,"updatedAlarms"],[82,25,77,23],[82,28,77,26,"alarms"],[82,34,77,32],[82,35,77,33,"filter"],[82,41,77,39],[82,42,77,40,"alarm"],[82,47,77,45],[82,51,77,49,"alarm"],[82,56,77,54],[82,57,77,55,"id"],[82,59,77,57],[82,64,77,62,"id"],[82,66,77,64],[82,67,77,65],[83,6,78,4],[83,12,78,10],[83,16,78,10,"saveAlarms"],[83,34,78,20],[83,35,78,20,"saveAlarms"],[83,45,78,20],[83,47,78,21,"updatedAlarms"],[83,60,78,34],[83,61,78,35],[84,6,79,4,"setAlarms"],[84,15,79,13],[84,16,79,14,"updatedAlarms"],[84,29,79,27],[84,30,79,28],[85,6,80,4],[85,12,80,10],[85,16,80,10,"cancelAlarmNotification"],[85,36,80,33],[85,37,80,33,"cancelAlarmNotification"],[85,60,80,33],[85,62,80,34,"id"],[85,64,80,36],[85,65,80,37],[86,4,81,2],[86,5,81,3],[87,4,83,2],[87,10,83,8,"toggleAlarm"],[87,21,83,19],[87,24,83,22],[87,30,83,29,"id"],[87,32,83,39],[87,36,83,44],[88,6,84,4],[88,12,84,10,"alarm"],[88,17,84,15],[88,20,84,18,"alarms"],[88,26,84,24],[88,27,84,25,"find"],[88,31,84,29],[88,32,84,30,"a"],[88,33,84,31],[88,37,84,35,"a"],[88,38,84,36],[88,39,84,37,"id"],[88,41,84,39],[88,46,84,44,"id"],[88,48,84,46],[88,49,84,47],[89,6,85,4],[89,10,85,8,"alarm"],[89,15,85,13],[89,17,85,15],[90,8,86,6],[90,14,86,12,"updateAlarm"],[90,25,86,23],[90,26,86,24,"id"],[90,28,86,26],[90,30,86,28],[91,10,86,30,"enabled"],[91,17,86,37],[91,19,86,39],[91,20,86,40,"alarm"],[91,25,86,45],[91,26,86,46,"enabled"],[92,8,86,54],[92,9,86,55],[92,10,86,56],[93,6,87,4],[94,4,88,2],[94,5,88,3],[95,4,90,2],[95,10,90,8,"updateSettings"],[95,24,90,22],[95,27,90,25],[95,33,90,32,"newSettings"],[95,44,90,62],[95,48,90,67],[96,6,91,4],[96,12,91,10,"updated"],[96,19,91,17],[96,22,91,20],[97,8,91,22],[97,11,91,25,"settings"],[97,19,91,33],[98,8,91,35],[98,11,91,38,"newSettings"],[99,6,91,50],[99,7,91,51],[100,6,92,4],[100,12,92,10],[100,16,92,10,"saveSettings"],[100,34,92,22],[100,35,92,22,"saveSettings"],[100,47,92,22],[100,49,92,23,"updated"],[100,56,92,30],[100,57,92,31],[101,6,93,4,"setSettings"],[101,17,93,15],[101,18,93,16,"updated"],[101,25,93,23],[101,26,93,24],[102,4,94,2],[102,5,94,3],[103,4,96,2],[103,24,97,4],[103,28,97,4,"_reactJsxDevRuntime"],[103,47,97,4],[103,48,97,4,"jsxDEV"],[103,54,97,4],[103,56,97,5,"AlarmContext"],[103,68,97,17],[103,69,97,18,"Provider"],[103,77,97,26],[104,6,97,27,"value"],[104,11,97,32],[104,13,97,34],[105,8,98,6,"alarms"],[105,14,98,12],[106,8,99,6,"settings"],[106,16,99,14],[107,8,100,6,"addAlarm"],[107,16,100,14],[108,8,101,6,"updateAlarm"],[108,19,101,17],[109,8,102,6,"deleteAlarm"],[109,19,102,17],[110,8,103,6,"toggleAlarm"],[110,19,103,17],[111,8,104,6,"updateSettings"],[111,22,104,20],[112,8,105,6,"refreshAlarms"],[113,6,106,4],[113,7,106,6],[114,6,106,6,"children"],[114,14,106,6],[114,16,107,7,"children"],[115,4,107,15],[116,6,107,15,"fileName"],[116,14,107,15],[116,16,107,15,"_jsxFileName"],[116,28,107,15],[117,6,107,15,"lineNumber"],[117,16,107,15],[118,6,107,15,"columnNumber"],[118,18,107,15],[119,4,107,15],[119,11,108,27],[119,12,108,28],[120,2,110,0],[120,3,110,1],[121,2,110,2,"_s"],[121,4,110,2],[121,5,19,13,"AlarmProvider"],[121,18,19,26],[122,2,19,26,"_c"],[122,4,19,26],[122,7,19,13,"AlarmProvider"],[122,20,19,26],[123,2,112,7],[123,8,112,13,"useAlarms"],[123,17,112,22],[123,20,112,25,"useAlarms"],[123,21,112,25],[123,26,112,31],[124,4,112,31,"_s2"],[124,7,112,31],[125,4,113,2],[125,10,113,8,"context"],[125,17,113,15],[125,20,113,18],[125,24,113,18,"useContext"],[125,30,113,28],[125,31,113,28,"useContext"],[125,41,113,28],[125,43,113,29,"AlarmContext"],[125,55,113,41],[125,56,113,42],[126,4,114,2],[126,8,114,6],[126,9,114,7,"context"],[126,16,114,14],[126,18,114,16],[127,6,115,4],[127,12,115,10],[127,16,115,14,"Error"],[127,21,115,19],[127,22,115,20],[127,67,115,65],[127,68,115,66],[128,4,116,2],[129,4,117,2],[129,11,117,9,"context"],[129,18,117,16],[130,2,118,0],[130,3,118,1],[131,2,118,2,"_s2"],[131,5,118,2],[131,6,112,13,"useAlarms"],[131,15,112,22],[132,2,112,22],[132,6,112,22,"_c"],[132,8,112,22],[133,2,112,22,"$RefreshReg$"],[133,14,112,22],[133,15,112,22,"_c"],[133,17,112,22],[134,0,112,22],[134,3]],"functionMap":{"names":["<global>","AlarmProvider","useEffect$argument_0","loadInitialData","refreshAlarms","addAlarm","updateAlarm","alarms.map$argument_0","updatedAlarms.find$argument_0","deleteAlarm","alarms.filter$argument_0","toggleAlarm","alarms.find$argument_0","updateSettings","useAlarms"],"mappings":"AAA;6BCkB;YCQ;GDE;0BEE;GFK;wBGE;GHG;mBIE;GJc;sBKE;qCCC;wDDC;4CEM,gBF;GLO;sBQE;wCCC,wBD;GRI;sBUE;8BCC,gBD;GVI;yBYE;GZI;CDgB;yBcE;CdM"},"hasCjsExports":false},"type":"js/module"}]}